import{t as N,u as k,a as I,r as l,j as e,B as i}from"./index-BJ2M2YpL.js";import{L as F}from"./login-bg-BtmnuXA_.js";import{F as s,I as c,h as d,s as R}from"./http-GtRzVHx2.js";import"./TextArea-VMYqHmOO.js";import"./row-BqiG_bf7.js";const T=()=>{const{token:{colorBgContainer:t}}=N.useToken(),{setUserInfo:x,setToken:p}=k(),a=I(),[m]=l.useState({username:"",password:""}),[u,o]=l.useState(!1),[f]=s.useForm();async function h(r){try{o(!0);const b=(await d.post("/api/user/register",r)).data,{token:n,user_id:y}=b;p(n);const w={params:{user_id:y,token:n}},v=await d.get("/api/user",w);x(v.data.user),R.success("注册成功"),a("/index",{replace:!0})}catch{}finally{o(!1)}}const g=r=>{};return e.jsx("div",{className:"h-full w-full flex items-center justify-center px-[20px]",style:{backgroundImage:"linear-gradient(94deg, #232d3c, #162b5b, #20469c, #2863e3)"},children:e.jsxs("div",{className:"h-[554px] w-full flex overflow-hidden rounded-[10px] lg:w-[960px]",style:{background:t},children:[e.jsx("div",{className:"w-0 flex items-center justify-center overflow-hidden lg:flex-1 lg:overflow-visible",children:e.jsx("img",{width:382,height:382,src:F})}),e.jsx("div",{className:"flex flex-1",style:{background:t},children:e.jsxs(s,{form:f,size:"large",className:"m-auto overflow-hidden rounded-[8px] p-[30px]",style:{background:t},layout:"vertical",initialValues:m,onFinish:h,onFinishFailed:g,children:[e.jsx(s.Item,{children:e.jsx("div",{className:"pb-[20px] text-center text-[22px] text-[#5B86E5] font-bold",children:"智慧运维"})}),e.jsx(s.Item,{label:"",name:"username",rules:[{required:!0,message:"请输入用户名"}],children:e.jsx(c,{prefix:e.jsx("div",{className:"icon-[bi--person] px-[5px] text-[20px]"}),maxLength:11,placeholder:"admin"})}),e.jsx(s.Item,{label:"",name:"password",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(c,{type:"password",prefix:e.jsx("div",{className:"icon-[bi--bag-dash] px-[5px] text-[20px]"}),maxLength:6,placeholder:"123456"})}),e.jsx(s.Item,{children:e.jsxs("div",{className:"flex-col justify-between space-y-4",children:[e.jsx(i,{type:"primary",htmlType:"submit",block:!0,loading:u,className:"w-full",children:"注册"}),e.jsx(i,{type:"primary",onClick:()=>a("/login"),block:!0,className:"w-full",children:"返回登录"})]})})]})})]})})};export{T as default};
