import{j as l,r as c,u as h}from"./index-BJ2M2YpL.js";import{L as b,P as v}from"./index-2Tawbro6.js";import{h as _}from"./http-GtRzVHx2.js";import{i as R}from"./validate-lzbhNUC4.js";import"./row-BqiG_bf7.js";import"./index-omGob3ob.js";import"./TextArea-VMYqHmOO.js";import"./Skeleton-Czt0UNwg.js";async function y(a,t){try{const{pageSize:r,current:n,...s}=a,p={params:{...s,page_size:r,current:n,token:t}},i=(await _.get("/api/user/all",p)).data,m=!i.status_code,u=i.user,d=R(u)?u:[u],f=d.length;return{data:d.map((e,x)=>({id:x+1,user_id:e.id?e.id:0,username:e.name?e.name:"",level:e.level?e.level:0,phone_number:e.phone_number?e.phone_number:""})),success:m,total:f}}catch{}}function I(){return[{title:"用户ID",dataIndex:"user_id",required:!0,valueType:"digit"},{title:"用户名",dataIndex:"username"},{title:"用户角色",dataIndex:"level",valueType:"radio",fieldProps:{options:[{label:"用户",value:0},{label:"维修人员",value:1},{label:"管理者",value:2}]},hideInSearch:!0},{title:"手机号码",dataIndex:"phone_number"},{title:"操作",valueType:"option",enableDelete:!0,render:(a,t,r,n,s)=>[l.jsx(b,{onClick:()=>{var o;return(o=s.current)==null?void 0:o.openModal("read",t)},children:"查看"},1)]}]}const S={new:"新增",edit:"编辑",read:"查看"};function w(){const a=c.useRef(null),t=c.useRef(null),{token:r}=h();return l.jsx("div",{children:l.jsx(v,{name:"用户管理",columns:I(),request:n=>y(n,r),bordered:!0,innerRef:a,actionRef:t})})}export{S as FORM_TYPE_MAP,w as default};
