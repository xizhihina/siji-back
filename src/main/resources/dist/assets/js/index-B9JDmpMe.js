import{j as i,r as l,u as x}from"./index-C96PFSvo.js";import{L as f,P as I}from"./index-CL5EgAiU.js";import{h as _}from"./http-Bwthace3.js";import{i as R}from"./validate-lzbhNUC4.js";import"./row-DSK-Iw-y.js";import"./index-kaDW5-9q.js";import"./TextArea-C947t_Q3.js";async function y(o,t,r){try{const s={params:{...t,token:r}},c=(await _.get("/api/account/view",s)).data,m=!c.status_code,u=c.account_detail,d=R(u)?u:[u],p=d.length();return{data:d.map((e,h)=>({id:h+1,user_id:e.id?e.id:0,username:e.username?e.username:"",email:e.email?e.email:"",role:e.role?e.role:"",create_time:e.create_time?e.create_time:""})),success:m,total:p}}catch{}}function T(){return[{title:"用户ID",dataIndex:"user_id",required:!0,valueType:"digit"},{title:"用户名",dataIndex:"username",hideInSearch:!0},{title:"用户角色",dataIndex:"role",hideInSearch:!0},{title:"创建时间",dataIndex:"create_time",valueType:"dateTime",hideInSearch:!0},{title:"邮箱",dataIndex:"email",hideInSearch:!0},{title:"操作",valueType:"option",enableDelete:!0,render:(o,t,r,a,n)=>[i.jsx(f,{onClick:()=>{var s;return(s=n.current)==null?void 0:s.openModal("read",t)},children:"查看"},1)]}]}const w={new:"新增",edit:"编辑",read:"查看"};function E(){const o=l.useRef(null),t=l.useRef(null),{token:r}=x();return i.jsx("div",{children:i.jsx(I,{name:"用户管理",columns:T(),request:(a,n)=>y(a,n,r),bordered:!0,innerRef:o,actionRef:t})})}export{w as FORM_TYPE_MAP,E as default};
